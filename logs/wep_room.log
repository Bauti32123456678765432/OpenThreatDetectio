2023-10-16 17:15:52 : INFO : <module> : 30 - Setup complete (v1.0)
2023-10-16 17:15:52 : INFO : <module> : 39 - No GPU devices found
2023-10-16 17:15:52 : INFO : <module> : 50 - Input request: {'video_link': '/home/jana/Downloads/video_1.mp4', 'building': 'room', 'video_type': 'mp4', 'friendly_name': 'room', 'file_original_name': None}
2023-10-16 17:15:52 : INFO : <module> : 60 - Detection for video starts...
2023-10-16 17:15:52 : INFO : <module> : 62 - GPU Utilization before: 
2023-10-16 17:15:53 : INFO : <module> : 23 - imported packages within inference_images_weapon
2023-10-16 17:15:53 : INFO : <module> : 41 - loading weapon model: tf
2023-10-16 17:16:29 : INFO : <module> : 50 - loaded weapon model
2023-10-16 17:16:29 : INFO : detect : 50 - Video source: /home/jana/Downloads/video_1.mp4
2023-10-16 17:16:29 : INFO : detect : 71 - msg_local_py[payload]: {'video_link': '/home/jana/Downloads/video_1.mp4', 'building': 'room', 'video_type': 'mp4', 'friendly_name': 'room', 'file_original_name': None}
2023-10-16 17:16:29 : INFO : detect : 134 - Begin video capture now: /home/jana/Downloads/video_1.mp4
2023-10-16 17:16:30 : INFO : detect : 139 - video: < cv2.VideoCapture 0x7f2f56a7c110>
2023-10-16 17:16:30 : WARNING : detect : 187 - room folder removed
2023-10-16 17:16:30 : WARNING : detect : 191 - room folder created
2023-10-16 17:16:31 : INFO : detect : 270 - Frame #: 100 of 650
2023-10-16 17:16:31 : INFO : inference_images_weapon : 57 - started weapon inference
2023-10-16 17:16:35 : INFO : inference_images_weapon : 87 - fps after inference: 0.23531463168299258
2023-10-16 17:16:35 : INFO : inference_images_weapon : 145 - Ended weapon inference
2023-10-16 17:16:35 : INFO : detect : 278 - FPS01: 0.23
2023-10-16 17:16:35 : INFO : detect : 328 - After sending the input
2023-10-16 17:16:35 : INFO : do_restful : 20 - RESTful: {'enable': True, 'url': 'http://localhost:5001/consumeevent'}
2023-10-16 17:16:35 : INFO : do_restful : 25 - post to local wep RESTful service {"status": "Weapon Detected |Rifle : 0.5613151", "video_name": "room", "datetime": "16-10-2023 17:16:35", "time(s)": "429.49", "Threat_status": "Threat detected | Weapon:['Rifle : 0.5613151']", "image_path": "weapon_429.49.jpg", "weapon_images": ["weapon_429.49.jpg"]}
2023-10-16 17:16:35 : INFO : do_restful : 27 - response: <Response [404]>
2023-10-16 17:16:35 : INFO : do_restful : 29 - post to remote RESTful service {"status": "Weapon Detected |Rifle : 0.5613151", "video_name": "room", "datetime": "16-10-2023 17:16:35", "time(s)": "429.49", "Threat_status": "Threat detected | Weapon:['Rifle : 0.5613151']", "image_path": "weapon_429.49.jpg", "weapon_images": ["weapon_429.49.jpg"]}, url:http://localhost:5001/consumeevent
2023-10-16 17:16:35 : INFO : do_restful : 31 - response: <Response [200]>
2023-10-16 17:16:35 : INFO : detect : 340 - After fetching img
2023-10-16 17:16:35 : WARNING : detect : 378 - Rifle : 0.5613151 Detected in Frame: 100
2023-10-16 17:16:35 : INFO : detect : 397 - output assignment. formatvp80 path:inferences/
2023-10-16 17:16:36 : INFO : detect : 418 - FPS02: 0.22
2023-10-16 17:16:37 : INFO : detect : 270 - Frame #: 200 of 650
2023-10-16 17:16:37 : INFO : inference_images_weapon : 57 - started weapon inference
2023-10-16 17:16:39 : INFO : inference_images_weapon : 87 - fps after inference: 0.46828424780958444
2023-10-16 17:16:39 : INFO : inference_images_weapon : 145 - Ended weapon inference
2023-10-16 17:16:39 : INFO : detect : 278 - FPS01: 0.47
2023-10-16 17:16:39 : INFO : detect : 328 - After sending the input
2023-10-16 17:16:39 : INFO : do_restful : 20 - RESTful: {'enable': True, 'url': 'http://localhost:5001/consumeevent'}
2023-10-16 17:16:39 : INFO : do_restful : 25 - post to local wep RESTful service {"status": "Weapon Detected |Rifle : 0.7744594", "video_name": "room", "datetime": "16-10-2023 17:16:39", "time(s)": "429.1", "Threat_status": "Threat detected | Weapon:['Rifle : 0.7744594']", "image_path": "weapon_429.1.jpg", "weapon_images": ["weapon_429.1.jpg"]}
2023-10-16 17:16:39 : INFO : do_restful : 27 - response: <Response [404]>
2023-10-16 17:16:39 : INFO : do_restful : 29 - post to remote RESTful service {"status": "Weapon Detected |Rifle : 0.7744594", "video_name": "room", "datetime": "16-10-2023 17:16:39", "time(s)": "429.1", "Threat_status": "Threat detected | Weapon:['Rifle : 0.7744594']", "image_path": "weapon_429.1.jpg", "weapon_images": ["weapon_429.1.jpg"]}, url:http://localhost:5001/consumeevent
2023-10-16 17:16:39 : INFO : do_restful : 31 - response: <Response [200]>
2023-10-16 17:16:39 : INFO : detect : 340 - After fetching img
2023-10-16 17:16:39 : WARNING : detect : 378 - Rifle : 0.7744594 Detected in Frame: 200
2023-10-16 17:16:39 : INFO : detect : 397 - output assignment. formatvp80 path:inferences/
2023-10-16 17:16:39 : INFO : detect : 418 - FPS02: 0.43
2023-10-16 17:16:41 : INFO : detect : 270 - Frame #: 300 of 650
2023-10-16 17:16:41 : INFO : inference_images_weapon : 57 - started weapon inference
2023-10-16 17:16:43 : INFO : inference_images_weapon : 87 - fps after inference: 0.428456916079505
2023-10-16 17:16:43 : INFO : inference_images_weapon : 145 - Ended weapon inference
2023-10-16 17:16:43 : INFO : detect : 278 - FPS01: 0.43
2023-10-16 17:16:43 : INFO : detect : 328 - After sending the input
2023-10-16 17:16:43 : INFO : do_restful : 20 - RESTful: {'enable': True, 'url': 'http://localhost:5001/consumeevent'}
2023-10-16 17:16:43 : INFO : do_restful : 25 - post to local wep RESTful service {"status": "Weapon Detected |Rifle : 0.8050348", "video_name": "room", "datetime": "16-10-2023 17:16:43", "time(s)": "702.39", "Threat_status": "Threat detected | Weapon:['Rifle : 0.8050348']", "image_path": "weapon_702.39.jpg", "weapon_images": ["weapon_702.39.jpg"]}
2023-10-16 17:16:43 : INFO : do_restful : 27 - response: <Response [404]>
2023-10-16 17:16:43 : INFO : do_restful : 29 - post to remote RESTful service {"status": "Weapon Detected |Rifle : 0.8050348", "video_name": "room", "datetime": "16-10-2023 17:16:43", "time(s)": "702.39", "Threat_status": "Threat detected | Weapon:['Rifle : 0.8050348']", "image_path": "weapon_702.39.jpg", "weapon_images": ["weapon_702.39.jpg"]}, url:http://localhost:5001/consumeevent
2023-10-16 17:16:43 : INFO : do_restful : 31 - response: <Response [200]>
2023-10-16 17:16:43 : INFO : detect : 340 - After fetching img
2023-10-16 17:16:43 : WARNING : detect : 378 - Rifle : 0.8050348 Detected in Frame: 300
2023-10-16 17:16:43 : INFO : detect : 397 - output assignment. formatvp80 path:inferences/
2023-10-16 17:16:43 : INFO : detect : 418 - FPS02: 0.41
2023-10-16 17:16:45 : INFO : detect : 270 - Frame #: 400 of 650
2023-10-16 17:16:45 : INFO : inference_images_weapon : 57 - started weapon inference
2023-10-16 17:16:48 : INFO : inference_images_weapon : 87 - fps after inference: 0.2925890622872361
2023-10-16 17:16:48 : INFO : inference_images_weapon : 145 - Ended weapon inference
2023-10-16 17:16:48 : INFO : detect : 278 - FPS01: 0.29
2023-10-16 17:16:48 : INFO : detect : 328 - After sending the input
2023-10-16 17:16:48 : INFO : do_restful : 20 - RESTful: {'enable': True, 'url': 'http://localhost:5001/consumeevent'}
2023-10-16 17:16:48 : INFO : do_restful : 25 - post to local wep RESTful service {"status": "Weapon Detected |Rifle : 0.81772876", "video_name": "room", "datetime": "16-10-2023 17:16:48", "time(s)": "1382.63", "Threat_status": "Threat detected | Weapon:['Rifle : 0.81772876']", "image_path": "weapon_1382.63.jpg", "weapon_images": ["weapon_1382.63.jpg"]}
2023-10-16 17:16:48 : INFO : do_restful : 27 - response: <Response [404]>
2023-10-16 17:16:48 : INFO : do_restful : 29 - post to remote RESTful service {"status": "Weapon Detected |Rifle : 0.81772876", "video_name": "room", "datetime": "16-10-2023 17:16:48", "time(s)": "1382.63", "Threat_status": "Threat detected | Weapon:['Rifle : 0.81772876']", "image_path": "weapon_1382.63.jpg", "weapon_images": ["weapon_1382.63.jpg"]}, url:http://localhost:5001/consumeevent
2023-10-16 17:16:48 : INFO : do_restful : 31 - response: <Response [200]>
2023-10-16 17:16:48 : INFO : detect : 340 - After fetching img
2023-10-16 17:16:48 : WARNING : detect : 378 - Rifle : 0.81772876 Detected in Frame: 400
2023-10-16 17:16:48 : INFO : detect : 397 - output assignment. formatvp80 path:inferences/
2023-10-16 17:16:48 : INFO : detect : 418 - FPS02: 0.28
2023-10-16 17:16:51 : INFO : detect : 270 - Frame #: 500 of 650
2023-10-16 17:16:51 : INFO : inference_images_weapon : 57 - started weapon inference
2023-10-16 17:16:54 : INFO : inference_images_weapon : 87 - fps after inference: 0.3070315748912053
2023-10-16 17:16:54 : INFO : inference_images_weapon : 145 - Ended weapon inference
2023-10-16 17:16:54 : INFO : detect : 278 - FPS01: 0.31
2023-10-16 17:16:54 : INFO : detect : 328 - After sending the input
2023-10-16 17:16:54 : INFO : do_restful : 20 - RESTful: {'enable': True, 'url': 'http://localhost:5001/consumeevent'}
2023-10-16 17:16:54 : INFO : do_restful : 25 - post to local wep RESTful service {"status": "Weapon Detected |Rifle : 0.87456095", "video_name": "room", "datetime": "16-10-2023 17:16:54", "time(s)": "1632.21", "Threat_status": "Threat detected | Weapon:['Rifle : 0.87456095']", "image_path": "weapon_1632.21.jpg", "weapon_images": ["weapon_1632.21.jpg"]}
2023-10-16 17:16:54 : INFO : do_restful : 27 - response: <Response [404]>
2023-10-16 17:16:54 : INFO : do_restful : 29 - post to remote RESTful service {"status": "Weapon Detected |Rifle : 0.87456095", "video_name": "room", "datetime": "16-10-2023 17:16:54", "time(s)": "1632.21", "Threat_status": "Threat detected | Weapon:['Rifle : 0.87456095']", "image_path": "weapon_1632.21.jpg", "weapon_images": ["weapon_1632.21.jpg"]}, url:http://localhost:5001/consumeevent
2023-10-16 17:16:54 : INFO : do_restful : 31 - response: <Response [200]>
2023-10-16 17:16:54 : INFO : detect : 340 - After fetching img
2023-10-16 17:16:54 : WARNING : detect : 378 - Rifle : 0.87456095 Detected in Frame: 500
2023-10-16 17:16:54 : INFO : detect : 397 - output assignment. formatvp80 path:inferences/
2023-10-16 17:16:54 : INFO : detect : 418 - FPS02: 0.30
2023-10-16 17:16:55 : INFO : detect : 270 - Frame #: 600 of 650
2023-10-16 17:16:55 : INFO : inference_images_weapon : 57 - started weapon inference
2023-10-16 17:16:58 : INFO : inference_images_weapon : 87 - fps after inference: 0.37821133971070103
2023-10-16 17:16:58 : INFO : inference_images_weapon : 145 - Ended weapon inference
2023-10-16 17:16:58 : INFO : detect : 278 - FPS01: 0.38
2023-10-16 17:16:58 : INFO : detect : 340 - After fetching img
2023-10-16 17:16:58 : INFO : detect : 418 - FPS02: 0.37
2023-10-16 17:16:59 : INFO : detect : 215 - Ended video inference here
2023-10-16 17:16:59 : INFO : <module> : 66 - Response: {'payload': [{'status': 'Completed', 'video_name': 'room', 'video_type': 'mp4', 'datetime': '16-10-2023 17:16:59', 'Threat_status': '', 'last_updated': True}], 'data_weapon': {'status': 'Weapon Detected |Rifle : 0.87456095', 'video_name': 'room', 'datetime': '16-10-2023 17:16:54', 'time(s)': '1632.21', 'Threat_status': "Threat detected | Weapon:['Rifle : 0.87456095']", 'image_path': 'weapon_1632.21.jpg', 'weapon_images': ['weapon_1632.21.jpg']}} <class 'dict'>
2023-10-16 17:16:59 : INFO : <module> : 68 - GPU Utilization after:
2023-10-16 17:16:59 : INFO : <module> : 73 - Response: {'status': 'Weapon Detected |Rifle : 0.87456095', 'video_name': 'room', 'datetime': '16-10-2023 17:16:54', 'time(s)': '1632.21', 'Threat_status': "Threat detected | Weapon:['Rifle : 0.87456095']", 'image_path': 'weapon_1632.21.jpg', 'weapon_images': ['weapon_1632.21.jpg']} <class 'dict'>
